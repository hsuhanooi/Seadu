/** 
 * @license Highcharts JS v2.1.6 (2011-07-08)
 * Exporting module
 * 
 * (c) 2010-2011 Torstein HÃ¸nsi
 * 
 * License: www.highcharts.com/license
 */
// JSLint options:
/*global Highcharts, document, window, Math, setTimeout */
(function(){var a=Highcharts,b=a.Chart,c=a.addEvent,d=a.createElement,e=a.discardElement,f=a.css,g=a.merge,h=a.each,i=a.extend,j=Math,k=j.max,l=document,m=window,n="ontouchstart"in l.documentElement,o="M",p="L",q="div",r="hidden",s="none",t="highcharts-",u="absolute",v="px",w=undefined,x=a.setOptions({lang:{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"}});x.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:s,color:"#303030",fontSize:n?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[.4,"#F7F7F7"],[.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}},x.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,enableImages:!1,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}},i(b.prototype,{getSVG:function(b){var c=this,f,j,k,m,n,o,p,r=g(c.options,b);return l.createElementNS||(l.createElementNS=function(b,c){var d=l.createElement(c);return d.getBBox=function(){return a.Renderer.prototype.Element.prototype.getBBox.apply({element:d})},d}),j=d(q,null,{position:u,top:"-9999em",width:c.chartWidth+v,height:c.chartHeight+v},l.body),i(r.chart,{renderTo:j,forExport:!0}),r.exporting.enabled=!1,r.exporting.enableImages||(r.chart.plotBackgroundImage=null),r.series=[],h(c.series,function(a){m=a.options,m.animation=!1,m.showCheckbox=!1,m.visible=a.visible,r.exporting.enableImages||m&&m.marker&&/^url\(/.test(m.marker.symbol)&&(m.marker.symbol="circle"),m.data=[],h(a.data,function(a){n=a.config,o={x:a.x,y:a.y,name:a.name},typeof n=="object"&&a.config&&n.constructor!=Array&&i(o,n),o.visible=a.visible,m.data.push(o),r.exporting.enableImages||(p=a.config&&a.config.marker,p&&/^url\(/.test(p.symbol)&&delete p.symbol)}),r.series.push(m)}),f=new Highcharts.Chart(r),h(["xAxis","yAxis"],function(a){h(c[a],function(b,c){var d=f[a][c],e=b.getExtremes(),g=e.userMin,h=e.userMax;(g!==w||h!==w)&&d.setExtremes(g,h,!0,!1)})}),k=f.container.innerHTML,r=null,f.destroy(),e(j),k=k.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/<img ([^>]*)>/gi,"<image $1 />").replace(/<\/image>/g,"").replace(/<image ([^>]*)([^\/])>/gi,"<image $1$2 />").replace(/width=(\d+)/g,'width="$1"').replace(/height=(\d+)/g,'height="$1"').replace(/hc-svg-href="/g,'xlink:href="').replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()}),k=k.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'"),k.match(/ xmlns="/g).length==2&&(k=k.replace(/xmlns="[^"]+"/,"")),k},exportChart:function(a,b){var c,f=this,i=f.getSVG(b);a=g(f.options.exporting,a),c=d("form",{method:"post",action:a.url},{display:s},l.body),h(["filename","type","width","svg"],function(b){d("input",{type:r,name:b,value:{filename:a.filename||"chart",type:a.type,width:a.width,svg:i}[b]},null,c)}),c.submit(),e(c)},print:function(){var a=this,b=a.container,c=[],d=b.parentNode,e=l.body,f=e.childNodes;if(a.isPrinting)return;a.isPrinting=!0,h(f,function(a,b){a.nodeType==1&&(c[b]=a.style.display,a.style.display=s)}),e.appendChild(b),m.print(),setTimeout(function(){d.appendChild(b),h(f,function(a,b){a.nodeType==1&&(a.style.display=c[b])}),a.isPrinting=!1},1e3)},contextMenu:function(b,e,g,j,l,m){var o=this,p=o.options.navigation,r=p.menuItemStyle,w=o.chartWidth,x=o.chartHeight,y="cache-"+b,z=o[y],A=k(l,m),B="3px 3px 10px #888",C,D,E;z||(o[y]=z=d(q,{className:t+b},{position:u,zIndex:1e3,padding:A+v},o.container),C=d(q,null,i({MozBoxShadow:B,WebkitBoxShadow:B,boxShadow:B},p.menuStyle),z),D=function(){f(z,{display:s})},c(z,"mouseleave",D),h(e,function(b){if(b){var c=d(q,{onmouseover:function(){f(this,p.menuItemHoverStyle)},onmouseout:function(){f(this,r)},innerHTML:b.text||a.getOptions().lang[b.textKey]},i({cursor:"pointer"},r),C);c[n?"ontouchstart":"onclick"]=function(){D(),b.onclick.apply(o,arguments)}}}),o.exportMenuWidth=z.offsetWidth,o.exportMenuHeight=z.offsetHeight),E={display:"block"},g+o.exportMenuWidth>w?E.right=w-g-l-A+v:E.left=g-A+v,j+m+o.exportMenuHeight>x?E.bottom=x-j-A+v:E.top=j+m-A+v,f(z,E)},addButton:function(b){function r(){m.attr(q),l.attr(p)}var c=this,d=c.renderer,e=g(c.options.navigation.buttonOptions,b),f=e.onclick,h=e.menuItems,j=e.width,k=e.height,l,m,n,o=e.borderWidth,p={stroke:e.borderColor},q={stroke:e.symbolStroke,fill:e.symbolFill};if(e.enabled===!1)return;l=d.rect(0,0,j,k,e.borderRadius,o).align(e,!0).attr(i({fill:e.backgroundColor,"stroke-width":o,zIndex:19},p)).add(),n=d.rect(0,0,j,k,0).align(e).attr({fill:"rgba(255, 255, 255, 0.001)",title:a.getOptions().lang[e._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){m.attr({stroke:e.hoverSymbolStroke,fill:e.hoverSymbolFill}),l.attr({stroke:e.hoverBorderColor})}).on("mouseout",r).on("click",r).add(),h&&(f=function(a){r();var b=n.getBBox();c.contextMenu("export-menu",h,b.x,b.y,j,k)}),n.on("click",function(){f.apply(c,arguments)}),m=d.symbol(e.symbol,e.symbolX,e.symbolY,(e.symbolSize||12)/2).align(e,!0).attr(i(q,{"stroke-width":e.symbolStrokeWidth||1,zIndex:20})).add()}}),a.Renderer.prototype.symbols.exportIcon=function(a,b,c){return[o,a-c,b+c,p,a+c,b+c,a+c,b+c*.5,a-c,b+c*.5,"Z",o,a,b+c*.5,p,a-c*.5,b-c/3,a-c/6,b-c/3,a-c/6,b-c,a+c/6,b-c,a+c/6,b-c/3,a+c*.5,b-c/3,"Z"]},a.Renderer.prototype.symbols.printIcon=function(a,b,c){return[o,a-c,b+c*.5,p,a+c,b+c*.5,a+c,b-c/3,a-c,b-c/3,"Z",o,a-c*.5,b-c/3,p,a-c*.5,b-c,a+c*.5,b-c,a+c*.5,b-c/3,"Z",o,a-c*.5,b+c*.5,p,a-c*.75,b+c,a+c*.75,b+c,a+c*.5,b+c*.5,"Z"]},b.prototype.callbacks.push(function(a){var b,c=a.options.exporting,d=c.buttons;if(c.enabled!==!1)for(b in d)a.addButton(d[b])})})()